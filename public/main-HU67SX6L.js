import{a as k,b as L,c as N,d as R,e as j,f as T,g as F,h as O}from"./chunk-2Y4L3V6A.js";import{d as _,e as f,f as me,h as le,i as pe,j as c,k as h,l as ue,n as E,o as g}from"./chunk-C36JEYPE.js";import"./chunk-LJ5XHLMQ.js";import{$a as y,Ca as u,Ga as b,K as Q,Na as C,P as Y,Pa as n,Q as I,Qa as i,Ra as ee,Sa as te,Ta as ne,Ua as oe,Va as d,W as Z,Wa as v,X as K,Xa as ie,Ya as r,Za as A,_ as X,_a as re,ab as S,bb as w,da as $,eb as ae,gb as se,sa as l,xa as p}from"./chunk-RX3EO7BF.js";import{h as x}from"./chunk-FK42CRUA.js";function he(t,o){if(t&1&&(n(0,"p",11),r(1),i()),t&2){let e=v();l(),A(e.errorMessage)}}var P=class t{constructor(o,e){this.router=o;this.authService=e}email="";password="";errorMessage=null;login(){return x(this,null,function*(){try{(yield this.authService.signIn(this.email,this.password))&&this.router.navigate(["/home"])}catch(o){this.errorMessage="Correo o contrase\xF1a invalidos.",console.error("Login error: ",o)}})}fastAccess(){this.email="test@example.com",this.password="test1234"}static \u0275fac=function(e){return new(e||t)(p(c),p(g))};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","text-white"],[1,"w-full","max-w-md","rounded-2xl","bg-gray-800","p-8","shadow-2xl"],[1,"mb-6","text-center","text-3xl","font-bold","text-blue-400"],[1,"flex","flex-col","gap-4",3,"ngSubmit"],["name","email","type","email","placeholder","Correo","required","",1,"rounded-lg","border-none","bg-gray-700","p-3","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Contrase\xF1a","required","",1,"rounded-lg","border-none","bg-gray-700","p-3","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"mt-4","rounded-lg","bg-blue-500","p-3","font-semibold","text-white","transition","hover:bg-blue-600"],["type","button",1,"w-full","border","border-purple-300","text-purple-300","py-2","rounded","hover:bg-purple-300","hover:text-gray-900","transition",3,"click"],["class","text-red-400 text-sm text-center",4,"ngIf"],[1,"text-sm","text-center","mt-4"],["routerLink","/signup",1,"text-blue-400","hover:underline"],[1,"text-red-400","text-sm","text-center"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"\u{1F3AE}Inicio de sesi\xF3n"),i(),n(4,"form",3),d("ngSubmit",function(){return a.login()}),n(5,"input",4),w("ngModelChange",function(s){return S(a.email,s)||(a.email=s),s}),i(),n(6,"input",5),w("ngModelChange",function(s){return S(a.password,s)||(a.password=s),s}),i(),n(7,"button",6),r(8," Iniciar sesi\xF3n "),i(),n(9,"button",7),d("click",function(){return a.fastAccess()}),r(10," Acceso r\xE1pido (usuario de prueba)"),i(),b(11,he,2,1,"p",8),i(),n(12,"p",9),r(13," \xBFNo tienes cuenta? "),n(14,"a",10),r(15,"Reg\xEDstrate"),i()()()()),e&2&&(l(5),y("ngModel",a.email),l(),y("ngModel",a.password),l(5),C("ngIf",a.errorMessage))},dependencies:[f,_,O,T,k,L,N,F,j,R,h],encapsulation:2})};function xe(t,o){if(t&1&&(n(0,"p",10),r(1),i()),t&2){let e=v();l(),A(e.errorMessage)}}var V=class t{constructor(o,e){this.authService=o;this.router=e}email="";password="";errorMessage=null;signUp(){this.authService.signUp(this.email,this.password).then(o=>{o&&this.router.navigate(["/home"])})}static \u0275fac=function(e){return new(e||t)(p(g),p(c))};static \u0275cmp=u({type:t,selectors:[["app-signup"]],decls:14,vars:3,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","text-white"],[1,"w-full","max-w-md","rounded-2xl","bg-gray-800","p-8","shadow-2xl"],[1,"mb-6","text-center","text-3xl","font-bold","text-blue-400"],[1,"flex","flex-col","gap-4",3,"ngSubmit"],["name","email","type","email","placeholder","Correo","required","",1,"rounded-lg","border-none","bg-gray-700","p-3","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Contrase\xF1a","required","",1,"rounded-lg","border-none","bg-gray-700","p-3","text-white","placeholder-gray-400","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"mt-4","rounded-lg","bg-blue-500","p-3","font-semibold","text-white","transition","hover:bg-blue-600"],["class","text-red-400 text-sm text-center",4,"ngIf"],[1,"text-sm","text-center","mt-4"],["routerLink","/login",1,"text-blue-400","hover:underline"],[1,"text-red-400","text-sm","text-center"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"\u{1F4DD} Crear cuenta"),i(),n(4,"form",3),d("ngSubmit",function(){return a.signUp()}),n(5,"input",4),w("ngModelChange",function(s){return S(a.email,s)||(a.email=s),s}),i(),n(6,"input",5),w("ngModelChange",function(s){return S(a.password,s)||(a.password=s),s}),i(),n(7,"button",6),r(8," Crear cuenta "),i(),b(9,xe,2,1,"p",7),i(),n(10,"p",8),r(11," \xBFYa tienes cuenta? "),n(12,"a",9),r(13,"Inicia sesi\xF3n"),i()()()()),e&2&&(l(5),y("ngModel",a.email),l(),y("ngModel",a.password),l(3),C("ngIf",a.errorMessage))},dependencies:[O,T,k,L,N,F,j,R,f,_,h],encapsulation:2})};var W=class t{constructor(o,e,a){this.auth=o;this.router=e;this.toast=a}userEmail=null;ngOnInit(){this.checkSessionAndEmailConfirmation()}checkSessionAndEmailConfirmation(){return x(this,null,function*(){let o=yield this.auth.getUser();if(!o){this.router.navigate(["/login"]);return}this.checkEmailValidation(o)})}checkEmailValidation(o){(!o.email_confirmed_at||o.email_confirmed_at===null)&&this.toast.showAction("Su correo no ha sido verificado. \xBFDesea reenviar la confirmacion?","Reenviar",()=>this.resendConfirmation())}resendConfirmation(){return x(this,null,function*(){if(this.userEmail)try{yield this.auth.resendEmailConfirmation(this.userEmail),this.toast.showSuccess("Correo de verificaci\xF3n enviado!")}catch{this.toast.showError("Hubo un error al enviar el correo de verificacion...")}})}navigateToMayorMenor(){this.router.navigate(["/games/mayor-menor"])}static \u0275fac=function(e){return new(e||t)(p(g),p(c),p(E))};static \u0275cmp=u({type:t,selectors:[["app-home"]],decls:16,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","text-white","flex","flex-col","items-center","justify-center","p-4"],[1,"text-4xl","font-bold","text-blue-400","mb-6","text-center"],[1,"text-gray-300","text-center","mb-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6","max-w-2xl","w-full"],[1,"bg-gray-700","hover:bg-purple-600","transition","rounded-xl","p-6","text-center","font-semibold","text-white","shadow-lg",3,"click"],["routerLink","/juego-2",1,"bg-gray-700","hover:bg-purple-600","transition","rounded-xl","p-6","text-center","font-semibold","text-white","shadow-lg"],["routerLink","/juego-3",1,"bg-gray-700","hover:bg-green-600","transition","rounded-xl","p-6","text-center","font-semibold","text-white","shadow-lg"],["routerLink","/juego-4",1,"bg-gray-700","hover:bg-pink-600","transition","rounded-xl","p-6","text-center","font-semibold","text-white","shadow-lg"],[1,"fixed","bottom-6","right-6","bg-cyan-500","hover:bg-cyan-600","text-white","p-4","rounded-full","shadow-lg","z-50",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"h1",1),r(2,"\u{1F3B2} Bienvenido al Arcade!"),i(),n(3,"p",2),r(4,"Selecciona un juego para comenzar:"),i(),n(5,"div",3)(6,"button",4),d("click",function(){return a.navigateToMayorMenor()}),r(7,"\u{1F579} Mayor o menor "),i(),n(8,"a",5),r(9," \u{1F9E0} Juego 2 "),i(),n(10,"a",6),r(11," \u{1F3AF} Juego 3 "),i(),n(12,"a",7),r(13," \u{1F680} Juego 4 "),i()(),n(14,"button",8),d("click",function(){return a.router.navigate(["/chat-room"])}),r(15," \u{1F4AC} "),i()())},dependencies:[f],encapsulation:2})};var H=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-error"]],decls:7,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","text-white","text-center","p-8"],[1,"text-6xl","font-bold","text-red-500","mb-4"],[1,"text-xl","mb-6"],["routerLink","/home",1,"px-6","py-3","bg-blue-500","rounded-lg","text-white","font-semibold","hover:bg-blue-600","transition"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"h1",1),r(2,"404"),i(),n(3,"p",2),r(4,"P\xE1gina no encontrada"),i(),n(5,"a",3),r(6," Volver al inicio "),i()())},dependencies:[h],encapsulation:2})};var B=(t,o)=>x(void 0,null,function*(){let e=I(g),a=I(c),m=I(E);return(yield e.isLoggedIn())?!0:(m.showError("Debes iniciar sesi\xF3n para acceder."),a.navigate(["/login"]),!1)});var de=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:P},{path:"signup",component:V},{path:"home",canActivate:[B],component:W},{path:"about",canActivate:[B],loadComponent:()=>import("./chunk-6SCGZDG4.js").then(t=>t.AboutUsComponent)},{path:"chat-room",canActivate:[B],loadComponent:()=>import("./chunk-BXHXGIT2.js").then(t=>t.ChatRoomComponent)},{path:"games/mayor-menor",loadChildren:()=>import("./chunk-YXFTL6JD.js").then(t=>t.MayorMenorModule)},{path:"**",component:H}];var U=class t{constructor(o){this.injector=o}handleError(o){let e=this.injector.get(c),a=this.injector.get(E);console.error("Unhandled Error:",o),o?.status===404||o?.message?.includes("404")?e.navigate(["/error"],{queryParams:{code:404}}):a.showError("Ocurrio un error inesperado.")}static \u0275fac=function(e){return new(e||t)(Y(X))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})};var ge={providers:[se({eventCoalescing:!0}),ue(de),{provide:$,useClass:U},le()]};function ve(t,o){if(t&1){let e=oe();te(0),n(1,"span",8),r(2),i(),n(3,"button",9),d("click",function(){Z(e);let m=v();return K(m.logout())}),r(4," Cerrar sesi\xF3n "),i(),ne()}if(t&2){let e=v();l(2),re("\u{1F464} ",e.userEmail,"")}}function be(t,o){t&1&&(n(0,"a",10),r(1,"Iniciar sesi\xF3n"),i(),n(2,"a",11),r(3,"Registrarse"),i())}var q=class t{constructor(o,e){this.auth=o;this.router=e}userEmail=null;authSubscription=null;ngOnInit(){this.authSubscription=this.auth.onAuthStateChange(o=>{this.userEmail=o?.user?.email||null})}ngOnDestroy(){this.authSubscription?.data?.subscription?.unsubscribe()}logout(){this.auth.signOut(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(p(g),p(c))};static \u0275cmp=u({type:t,selectors:[["app-navbar"]],decls:12,vars:2,consts:[["guestLinks",""],[1,"bg-gray-900","text-white","shadow-md"],[1,"mx-auto","flex","max-w-6xl","items-center","justify-between","px-4","py-4"],["routerLink","/home",1,"text-2xl","font-bold","text-blue-400","hover:text-blue-300","transition"],[1,"flex","items-center","gap-4"],["routerLink","/home","routerLinkActive","text-blue-500 underline",1,"hover:text-blue-400","transition"],["routerLink","/about","routerLinkActive","text-blue-500 underline",1,"hover:text-blue-400","transition"],[4,"ngIf","ngIfElse"],[1,"text-sm","text-gray-300"],[1,"rounded","bg-red-500","px-4","py-2","text-sm","font-semibold","text-white","hover:bg-red-600","transition",3,"click"],["routerLink","/login",1,"text-sm","text-blue-400","hover:underline"],["routerLink","/signup",1,"text-sm","text-blue-400","hover:underline"]],template:function(e,a){if(e&1&&(n(0,"nav",1)(1,"div",2)(2,"a",3),r(3," \u{1F3AE} Sala de Juegos "),i(),n(4,"div",4)(5,"a",5),r(6,"Inicio"),i(),n(7,"a",6),r(8,"Quienes Somos"),i(),b(9,ve,5,1,"ng-container",7)(10,be,4,0,"ng-template",null,0,ae),i()()()),e&2){let m=ie(11);l(9),C("ngIf",a.userEmail)("ngIfElse",m)}},dependencies:[f,_,h],encapsulation:2})};var G=class t{title="learning-ng-project";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"min-h-screen","flex","flex-col"]],template:function(e,a){e&1&&(n(0,"div",0),ee(1,"app-navbar")(2,"router-outlet"),i())},dependencies:[pe,q],encapsulation:2})};me(G,ge).catch(t=>console.error(t));
